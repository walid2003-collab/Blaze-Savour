{% comment %}
  Block: Shop Look Card
  Individual look card with image, handle, and CTA button
  
  This block is rendered via content_for in the shop-the-look section
  and has access to block.settings automatically
{% endcomment %}

{% assign block_settings = block.settings %}

<div 
  class="shop-look-card" 
  data-look-id="{{ block.id }}"
  data-look-products='{{ block_settings | json | escape }}'
  {{ block.shopify_attributes }}
>
  <div class="shop-look-card__image-wrapper">
    {% if block_settings.look_image %}
      <img
        src="{{ block_settings.look_image | image_url: width: 600 }}"
        alt="{{ block_settings.look_image.alt | default: block_settings.influencer_handle | escape }}"
        class="shop-look-card__image"
        loading="lazy"
        width="400"
        height="500"
      >
    {% else %}
      <div class="shop-look-card__image shop-look-card__placeholder">
        {{ 'image' | placeholder_svg_tag }}
      </div>
    {% endif %}

    <div 
      class="shop-look-card__overlay" 
      {% if block_settings.overlay_color != blank %}
        style="background: {{ block_settings.overlay_color }};"
      {% endif %}
    ></div>

    <div class="shop-look-card__content">
      {% if block_settings.influencer_handle != blank %}
        <div class="shop-look-card__handle">{{ block_settings.influencer_handle }}</div>
      {% endif %}
      
      <button 
        class="shop-look-card__button"
        style="background-color: {{ block_settings.button_color }}; color: {{ block_settings.button_text_color }};"
        data-open-modal="{{ block.id }}"
      >
        {{ block_settings.button_text | default: "GET THE LOOK" }}
      </button>
    </div>
  </div>
</div>

{% stylesheet %}
  /* This block file is not used - all styles are in sections/shop-the-look.liquid */
  /* Keeping this empty to prevent style conflicts */
{% endstylesheet %}

{% schema %}
{
  "name": "Look Card",
  "tag": null
}
{% endschema %}